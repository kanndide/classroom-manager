<!DOCTYPE html>
<html>
  <head>
    <title>ClassroomManager</title>
    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track' => true %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track' => true %>
    <%= csrf_meta_tags %>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <style>

      textarea.form-control {
        min-width: 100%;
        max-width: 100%;
      }

    </style>
  </head>

  <body>
    <%= render 'shared/navigation' %>
    
    <div class="container-fluid text-center"> 

      <div class="row">
        <div class="col-xs-12">
          <% flash.each do |name, msg| -%>
            <%= content_tag :div, msg, class: "alert alert-#{name}" %>
          <% end -%>
        </div>
      </div>
   
      <% if current_user != nil %>  
        <% if current_user.id == params[:id].to_i || current_user.admin  %>
          <div class="col-sm-2 sidenav">
            <div class="panel panel-primary">
              <div class="panel-heading">
                <h5>User Controls</h5>
              </div>   
              <div class="panel-body">
                <p><%= link_to user_lectures_path(current_user), class: 'btn-success btn-sm' do %>
                  <i class="glyphicon glyphicon-tasks"></i> View Schedule
                <% end %></p><br>

                <p><%= link_to edit_user_path(current_user), class: 'btn-info btn-sm' do %>
                  <i class="glyphicon glyphicon-pencil"></i> Edit Profile
                <% end %></p><br>

                <p><%= link_to user_path(current_user), action: 'destroy', method: 'delete', class: 'btn-danger btn-sm' do %>
                    <i class="fa fa-trash"></i> Delete Account
                  <% end %></p><br>

              </div>
            </div>
          </div>
        <% else %>
          <div class="col-sm-2 sidenav">
        
            <div class="well">
              <p>Something should go here.</p>
            </div>
        
            <div class="well">
              <p>I wonder what.</p>
            </div>
        
          </div>
        <% end %>
      <% else %>
        <div class="col-sm-2 sidenav">
        
            <div class="well">
              <p>Something should go here.</p>
            </div>
        
            <div class="well">
              <p>I wonder what.</p>
            </div>
        
          </div>
      <% end %>

      
      <div class="col-sm-8 text-centered"> 
        <%= yield %>
      </div>

      <% if current_user != nil %>   
        <% if current_user.admin  %>

          <div class="col-sm-2 sidenav">
            <div class="panel panel-info">
              <div class="panel-heading">
                <h5>Admin Controls</h5>
              </div>
              <div class="panel-body">
                <p><%= link_to "Add School", new_user_school_path(current_user), class: 'btn-success btn-sm' %></p><br>
              </div>
            </div>
          </div>

        <% elsif current_user.teacher %>

          <div class="col-sm-2 sidenav">
            <div class="panel panel-info">
              <div class="panel-heading">
                <h5>Teacher Controls</h5>
              </div>
              <div class="panel-body">
                <p><%= link_to "Create Lecture", new_user_lecture_path(current_user), class: 'btn-success btn-sm' %></p><br>
              </div>
            </div>
          </div>

        <% elsif !current_user.teacher && !current_user.admin%>
          
          <div class="col-sm-2 sidenav">
              <p><%= link_to "Find Lectures",  schools_path, class: 'btn-success btn-lg' %></p><br>
            </div>

        <% else %>
          <div class="col-sm-2 sidenav">
            
            <div class="well">
              <p>Something should go here.</p>
            </div>
        
            <div class="well">
              <p>I wonder what.</p>
            </div>
        
          </div>
        <% end %>
      <% else %>
          <div class="col-sm-2 sidenav">
        
            <div class="well">
              <p>Something should go here.</p>
            </div>
        
            <div class="well">
              <p>I wonder what.</p>
            </div>
        
          </div>
      <% end %>
    </div> <!-- Container end -->
  </body>
</html>
